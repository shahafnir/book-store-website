<div class="user-new-container">
  <h2 class="title">Create New Account</h2>
  <form (ngSubmit)="onSubmit()" [formGroup]="userForm" class="new-user-form">
    <label>
      Name:
      <input type="text" formControlName="name" />
    </label>
    <p
      class="error-message input-error"
      *ngIf="!userForm.get('name').valid && userForm.get('name').touched"
    >
      Name cannot be empty.
    </p>
    <label>
      Email:
      <input type="email" #email formControlName="email" autocomplete="email" />
    </label>
    <p
      class="error-message input-error"
      *ngIf="!userForm.get('email').valid && userForm.get('email').touched"
    >
      Email address is invalid.
    </p>
    <label>
      Password:
      <input
        type="password"
        formControlName="password"
        autocomplete="new-password"
      />
    </label>
    <p
      class="error-message input-error"
      *ngIf="
        !userForm.get('password').valid && userForm.get('password').touched
      "
    >
      Password must contain at least 8 characters.
    </p>
    <label>
      Re-enter password:
      <input
        type="password"
        formControlName="passwordValidation"
        autocomplete="none"
        (change)="comparePasswords()"
      />
    </label>
    <p
      class="error-message input-error"
      *ngIf="
        !userForm.get('passwordValidation').valid &&
        userForm.get('passwordValidation').touched
      "
    >
      Passwords do not match.
    </p>
    <div class="error-message">
      {{ errorMessage }}
    </div>
    <button type="submit" [disabled]="!userForm.valid">Submit</button>
  </form>
</div>
